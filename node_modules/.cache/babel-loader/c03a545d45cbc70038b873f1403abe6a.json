{"ast":null,"code":"import _classCallCheck from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/danielgibbons/2DComedy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/danielgibbons/2DComedy/src/withGATracker.js\";\nimport React, { Component } from \"react\";\nimport GoogleAnalytics from \"react-ga\";\nGoogleAnalytics.initialize(\"UA-133853408-1\");\n\nvar withGATracker = function withGATracker(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var trackPage = function trackPage(page) {\n    GoogleAnalytics.set(_objectSpread({\n      page: page\n    }, options));\n    GoogleAnalytics.pageview(page);\n  }; // eslint-disable-next-line\n\n\n  var HOC =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(HOC, _Component);\n\n    function HOC() {\n      _classCallCheck(this, HOC);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(HOC).apply(this, arguments));\n    }\n\n    _createClass(HOC, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // eslint-disable-next-line\n        var page = this.props.location.pathname + this.props.location.search;\n        trackPage(page);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var currentPage = prevProps.location.pathname + prevProps.location.search;\n        var nextPage = this.props.location.pathname + this.props.location.search;\n\n        if (currentPage !== nextPage) {\n          trackPage(nextPage);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(WrappedComponent, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return HOC;\n  }(Component);\n\n  return HOC;\n};\n\nexport default withGATracker;","map":{"version":3,"sources":["/Users/danielgibbons/2DComedy/src/withGATracker.js"],"names":["React","Component","GoogleAnalytics","initialize","withGATracker","WrappedComponent","options","trackPage","page","set","pageview","HOC","props","location","pathname","search","prevProps","currentPage","nextPage"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,UAA5B;AAEAA,eAAe,CAACC,UAAhB,CAA2B,gBAA3B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,gBAAD,EAAoC;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AACxD,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAC1BN,IAAAA,eAAe,CAACO,GAAhB;AACED,MAAAA,IAAI,EAAJA;AADF,OAEKF,OAFL;AAIAJ,IAAAA,eAAe,CAACQ,QAAhB,CAAyBF,IAAzB;AACD,GAND,CADwD,CASxD;;;AACA,MAAMG,GAAG;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CACa;AAClB;AACA,YAAMH,IAAI,GAAG,KAAKI,KAAL,CAAWC,QAAX,CAAoBC,QAApB,GAA+B,KAAKF,KAAL,CAAWC,QAAX,CAAoBE,MAAhE;AACAR,QAAAA,SAAS,CAACC,IAAD,CAAT;AACD;AALM;AAAA;AAAA,yCAOYQ,SAPZ,EAOuB;AAC5B,YAAMC,WAAW,GAAGD,SAAS,CAACH,QAAV,CAAmBC,QAAnB,GAA8BE,SAAS,CAACH,QAAV,CAAmBE,MAArE;AACA,YAAMG,QAAQ,GAAG,KAAKN,KAAL,CAAWC,QAAX,CAAoBC,QAApB,GAA+B,KAAKF,KAAL,CAAWC,QAAX,CAAoBE,MAApE;;AAEA,YAAIE,WAAW,KAAKC,QAApB,EAA8B;AAC5BX,UAAAA,SAAS,CAACW,QAAD,CAAT;AACD;AACF;AAdM;AAAA;AAAA,+BAgBE;AACP,eAAO,oBAAC,gBAAD,oBAAsB,KAAKN,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;AAlBM;;AAAA;AAAA,IAAiBX,SAAjB,CAAT;;AAqBA,SAAOU,GAAP;AACD,CAhCD;;AAkCA,eAAeP,aAAf","sourcesContent":["import React, { Component } from \"react\"\nimport GoogleAnalytics from \"react-ga\"\n\nGoogleAnalytics.initialize(\"UA-133853408-1\")\n\nconst withGATracker = (WrappedComponent, options = {}) => {\n  const trackPage = (page) => {\n    GoogleAnalytics.set({\n      page,\n      ...options,\n    })\n    GoogleAnalytics.pageview(page)\n  }\n\n  // eslint-disable-next-line\n  const HOC = class extends Component {\n    componentDidMount() {\n      // eslint-disable-next-line\n      const page = this.props.location.pathname + this.props.location.search\n      trackPage(page)\n    }\n\n    componentDidUpdate(prevProps) {\n      const currentPage = prevProps.location.pathname + prevProps.location.search\n      const nextPage = this.props.location.pathname + this.props.location.search\n\n      if (currentPage !== nextPage) {\n        trackPage(nextPage)\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />\n    }\n  }\n\n  return HOC\n}\n\nexport default withGATracker\n"]},"metadata":{},"sourceType":"module"}